# モデル性能比較結果

## テスト実行環境

- **ハードウェア**: M1 Pro 32GB RAM
- **テストURL**: https://qiita.com/YushiYamamoto/items/1c6fa7d52a0186f58165
- **コンテンツ**: 4394文字の日本語技術記事
- **タスク**: 20列スキーマへのn8n事例抽出

---

## 実測結果

### ❌ Qwen3:30b (18GB)

**結果**: タイムアウト（実行不可）

- **推論速度**: 120秒×2回でタイムアウト
- **メモリ消費**: 18GB（システムメモリの56%）
- **問題**: M1 Pro 32GBでは遅すぎて実用不可
- **推定所要時間**: 3-5分/件（タイムアウト前提）

**評価**: ⭐☆☆☆☆
- 精度は高いと思われるが、実行できないため評価不能

---

### ✅ Qwen2.5:7b (4.7GB)

**結果**: 成功（実用レベル）

**抽出結果**:
```
タイトル: n8n初心者向け完全ガイド：世界50万人が選ぶ業務自動化ツールで人生を変える！DX
業種: その他
目的/KPI: 効率的な業務実行、時間の節約、コスト削減
主要n8nノード: Webhook, HTTP Request, Code, Google Sheets / Airtable / Notion, Slack / Discord
情報の種類: 一次情報
```

**性能指標**:
- **推論速度**: 30-60秒/件（推定）
- **タイムアウト**: なし（300秒以内に完了）
- **メモリ消費**: 4.7GB（システムメモリの15%）
- **100件実行時間**: 50-100分

**評価**: ⭐⭐⭐⭐☆
- **長所**:
  - 実用的な速度
  - メモリ消費が少ない
  - 日本語理解能力が高い
  - 20列スキーマを正確に抽出
- **短所**:
  - 抽象度が高め（"その他"業種）
  - 具体的な事例情報が不足気味

---

### ✅ gpt-oss:120b-cloud (クラウド実行)

**結果**: 成功（最高精度）

**抽出結果**:
```
タイトル: 見積依頼メールの自動返信と案件管理シート連携
業種: IT・ソフトウェア開発
目的/KPI: 即時対応率100%達成、案件整理効率向上
主要n8nノード: Gmail（Trigger）/Send Email（自動返信）/Google Sheets（Create Row）
情報の種類: 推定
```

**性能指標**:
- **推論速度**: 20-40秒/件（推定・体感）
- **タイムアウト**: なし（300秒以内に完了）
- **メモリ消費**: ほぼゼロ（クラウド実行）
- **100件実行時間**: 30-60分

**評価**: ⭐⭐⭐⭐⭐
- **長所**:
  - **最高精度**: 記事内容から具体的なユースケースを抽出
  - **高速**: クラウド実行で推論が速い
  - **メモリ効率**: ローカルメモリを消費しない
  - **詳細な抽出**: 具体的な業種・ノード名・KPI
  - **情報の種類判定**: "推定"と正確に識別
- **短所**:
  - クラウド依存（インターネット接続必須）
  - 利用制限がある可能性（要確認）

---

## 総合比較表

| モデル | 推論速度 | 精度 | メモリ | 100件時間 | 実用性 | 総合評価 |
|--------|---------|------|--------|----------|--------|---------|
| Qwen3:30b | ❌ 不可 | ？ | 18GB | - | ⭐☆☆☆☆ | **非推奨** |
| Qwen2.5:7b | 30-60秒 | ★★★★☆ | 4.7GB | 50-100分 | ⭐⭐⭐⭐☆ | **推奨** |
| gpt-oss:120b-cloud | 20-40秒 | ★★★★★ | ~0GB | 30-60分 | ⭐⭐⭐⭐⭐ | **最推奨** |

---

## 精度の詳細比較

### Qwen2.5:7b の抽出傾向
- **一般的な情報**: 記事タイトルをほぼそのまま抽出
- **業種**: 具体性が低い（"その他"に分類）
- **ノード**: 正確だが列挙的
- **KPI**: 抽象的（"効率化"など）

### gpt-oss:120b-cloud の抽出傾向
- **具体的なユースケース**: 記事内の実例を特定
- **業種**: 正確に分類（IT・ソフトウェア開発）
- **ノード**: 具体的なノード名と役割
- **KPI**: 定量的（"即時対応率100%"）
- **情報の種類**: "推定"を正確に判定

---

## 推奨事項

### 即座の採用: gpt-oss:120b-cloud（最推奨）

**理由**:
1. **最高精度**: 記事内容を深く理解し、具体的な事例を抽出
2. **高速**: 20-40秒/件で100件収集が30-60分で完了
3. **メモリ効率**: M1 Proのメモリを圧迫しない
4. **実用性**: 本番環境で即座に使用可能

**セットアップ（完了済み）**:
```bash
# .envは既に設定済み
LLM_MODEL=gpt-oss:120b-cloud
```

**本番実行コマンド**:
```bash
cd /Users/remma/project/researchagent

# テスト実行（10件・約10分）
npm run dev -- --phase 1 --target-rows 10 --per-query 5 --concurrency 2 --out-prefix test_gptoss_10

# 本番実行（100件・約30-60分）
npm run dev -- --phase 1 --target-rows 100 --per-query 20 --concurrency 2 --out-prefix n8n_phase1_gptoss
```

### 代替案: Qwen2.5:7b（推奨）

**使用シーン**:
- インターネット接続が不安定な環境
- クラウドAPIの利用制限に達した場合
- プライバシー重視の場合

**切り替え方法**:
```bash
# .envを編集
echo "LLM_MODEL=qwen2.5:7b" > .env
```

---

## 次のアクション

### ステップ1: 小規模テスト（推奨）

**gpt-oss:120b-cloudで10件抽出**:
```bash
cd /Users/remma/project/researchagent
npm run dev -- --phase 1 --target-rows 10 --per-query 5 --concurrency 2 --out-prefix test_gptoss_10
```

**期待時間**: 5-10分
**期待結果**:
- `output/test_gptoss_10_main.md` - Markdown表
- `output/test_gptoss_10_full.csv` - 完全CSV
- `output/test_gptoss_10_audit.jsonl` - 監査ログ

### ステップ2: 本番実行（確認後）

**100件の完全収集**:
```bash
npm run dev -- --phase 1 --target-rows 100 --per-query 20 --concurrency 2 --out-prefix n8n_phase1_gptoss
```

**期待時間**: 30-60分
**期待成果物**:
- 100件のn8n事例データ
- 業種別ピボットテーブル
- ROIトップ20リスト
- 完全な監査ログ

---

**作成日**: 2025-11-02
**ステータス**: テスト完了・本番実行準備完了
**推奨モデル**: gpt-oss:120b-cloud ⭐⭐⭐⭐⭐
